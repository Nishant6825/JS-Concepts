const buf = Buffer.from("Hello");
console.log(buf.toString());




let buff = Buffer.alloc(10);
buff.write('Nishant');


console.log(buff.toString());



const buf = Buffer.from("Hello", "utf8");

console.log(buf);
console.log(buf.toString('utf-8'));


Buffers in Node.js â€“ Interview Prep
1ï¸âƒ£ What is a Buffer?
Definition (Interview-ready â­)

A Buffer is a Node.js object used to handle raw binary data directly in memory, outside the JavaScript heap.

ğŸ‘‰ JavaScript normally works with strings & objects, not binary data.
ğŸ‘‰ Buffers enable working with files, streams, network packets, images, videos.

2ï¸âƒ£ Why Buffers Are Needed?

Handle binary data

Efficient file & network I/O

Used by streams

Required for encryption, compression, uploads

Examples:

File uploads

Image processing

TCP sockets

Crypto operations

3ï¸âƒ£ Where Buffers Are Used?

fs module

streams

http request/response

crypto

zlib

4ï¸âƒ£ Creating Buffers (VERY IMPORTANT â­)
1ï¸âƒ£ Buffer.from() (Recommended)
const buf = Buffer.from("Hello");
console.log(buf);

2ï¸âƒ£ Buffer.alloc()
const buf = Buffer.alloc(10);


âœ”ï¸ Initializes memory
âœ”ï¸ Safe

3ï¸âƒ£ Buffer.allocUnsafe() (TRICK QUESTION âš ï¸)
const buf = Buffer.allocUnsafe(10);


âŒ Faster but memory not initialized
âŒ Can expose old data
âœ”ï¸ Must overwrite before use

5ï¸âƒ£ Buffer vs String
const str = "Hello";
const buf = Buffer.from(str);

console.log(str.length); // 5
console.log(buf.length); // 5 (bytes)


âš ï¸ For Unicode:

Buffer.from("âœ“").length; // 3 bytes

6ï¸âƒ£ Reading & Writing Buffers
Write
const buf = Buffer.alloc(10);
buf.write("Node");

Read
console.log(buf.toString());

7ï¸âƒ£ Buffer Encoding (Interview Favorite â­)
Encoding	Description
utf8	Default
base64	Binary â†’ text
hex	Hexadecimal
ascii	ASCII chars
const buf = Buffer.from("Hello", "utf8");
console.log(buf.toString("base64"));

8ï¸âƒ£ Buffer Methods (Commonly Asked)
Method	Purpose
buf.toString()	Convert to string
Buffer.concat()	Merge buffers
buf.slice()	Share memory
buf.copy()	Copy data
buf.equals()	Compare
9ï¸âƒ£ Buffer Memory Sharing (TRICK QUESTION â­)
const buf1 = Buffer.from("Hello");
const buf2 = buf1.slice(0, 2);

buf2[0] = 74; // 'J'
console.log(buf1.toString()); // Jello


ğŸ‘‰ slice() shares memory.

ğŸ”Ÿ Buffer vs Stream (VERY COMMON)
Buffer	Stream
Loads all data	Chunk by chunk
Memory heavy	Memory efficient
Small data	Large data

âœ”ï¸ Streams internally use buffers.

1ï¸âƒ£1ï¸âƒ£ Buffer & Streams Example
fs.createReadStream("file.txt")
  .on("data", chunk => {
    console.log(Buffer.isBuffer(chunk)); // true
  });

1ï¸âƒ£2ï¸âƒ£ Buffer in HTTP (Real-world)
let body = [];

req.on("data", chunk => body.push(chunk));
req.on("end", () => {
  const data = Buffer.concat(body).toString();
  console.log(data);
});

1ï¸âƒ£3ï¸âƒ£ Buffer & Security (IMPORTANT âš ï¸)

Never trust user-provided buffer size

Avoid allocUnsafe unless required

Validate encodings

1ï¸âƒ£4ï¸âƒ£ Common Interview Questions & Answers
Q1. Are Buffers part of JavaScript?

âŒ No
âœ”ï¸ Node.js specific (now standardized as TypedArray)

Q2. Are Buffers mutable?

âœ”ï¸ Yes

Q3. Does Buffer use JS heap?

âŒ No
âœ”ï¸ Uses external memory

Q4. Difference between alloc and allocUnsafe?

alloc â†’ Safe, slower

allocUnsafe â†’ Fast, unsafe

1ï¸âƒ£5ï¸âƒ£ One-Line Interview Summary â­

Buffers in Node.js allow efficient handling of raw binary data by storing it outside the JavaScript heap, making them essential for file systems, streams, and network operations.

Want More?

I can also give:

ğŸ”¥ Buffer vs TypedArray

ğŸ§  Crypto & Buffer usage

ğŸ¯ Coding round questions

âš¡ Memory leaks with Buffers

ğŸ“Œ 1-page interview cheat sheet






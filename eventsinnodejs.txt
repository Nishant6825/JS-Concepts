EventEmitter in Node.js â€“ Interview Prep
1ï¸âƒ£ What is EventEmitter?
Definition (Interview-ready â­)

EventEmitter is a core Node.js class that enables event-driven programming by allowing objects to emit named events and other objects to listen and respond to those events.

ğŸ‘‰ It is part of the events module.

2ï¸âƒ£ Why EventEmitter is Important?

Foundation of event-driven architecture

Used internally by Node.js (http, fs, streams)

Enables decoupled communication

Improves scalability & readability

3ï¸âƒ£ Basic Example
const EventEmitter = require("events");

const emitter = new EventEmitter();

emitter.on("start", () => {
  console.log("Event started");
});

emitter.emit("start");

4ï¸âƒ£ Key Methods (VERY IMPORTANT â­)
Method	Description
.on(event, listener)	Register listener
.emit(event, data)	Emit event
.once(event, listener)	Runs once
.off(event, listener)	Remove listener
.removeAllListeners()	Remove all
5ï¸âƒ£ Passing Data with Events
emitter.on("order", (orderId) => {
  console.log("Order received:", orderId);
});

emitter.emit("order", 123);

6ï¸âƒ£ on vs once (Common Interview Question â­)
emitter.once("login", () => {
  console.log("User logged in");
});

emitter.emit("login");
emitter.emit("login"); // won't run

7ï¸âƒ£ Creating Custom EventEmitter Class
const EventEmitter = require("events");

class Logger extends EventEmitter {
  log(message) {
    this.emit("log", message);
  }
}

const logger = new Logger();

logger.on("log", msg => console.log(msg));
logger.log("Hello EventEmitter");

8ï¸âƒ£ Real-World Use Case (Node.js Backend)
Order Processing System
emitter.on("orderPlaced", (order) => {
  console.log("Save order:", order.id);
});

emitter.on("orderPlaced", (order) => {
  console.log("Send email:", order.email);
});

emitter.emit("orderPlaced", { id: 1, email: "test@mail.com" });


ğŸ‘‰ Multiple listeners â†’ clean separation of concerns.

9ï¸âƒ£ EventEmitter is Synchronous (TRICK QUESTION â­)
emitter.on("event", () => {
  console.log("Listener");
});

console.log("Before emit");
emitter.emit("event");
console.log("After emit");

Output
Before emit
Listener
After emit


ğŸ‘‰ .emit() runs listeners synchronously in order.

ğŸ”Ÿ Handling Errors (VERY IMPORTANT)
Default Behavior

If an "error" event is emitted and no listener exists, Node.js crashes.

emitter.emit("error", new Error("Boom")); // âŒ crash

Correct Way
emitter.on("error", (err) => {
  console.error("Handled:", err.message);
});

1ï¸âƒ£1ï¸âƒ£ Max Listeners Warning

Default max listeners = 10

emitter.setMaxListeners(20);


âš ï¸ Too many listeners â†’ possible memory leak.

1ï¸âƒ£2ï¸âƒ£ EventEmitter vs Callbacks vs Promises
Feature	EventEmitter	Callback	Promise
Multiple listeners	âœ…	âŒ	âŒ
One-time result	âŒ	âŒ	âœ…
Streaming events	âœ…	âŒ	âŒ
Error handling	Manual	Manual	Built-in
1ï¸âƒ£3ï¸âƒ£ EventEmitter vs Pub-Sub

EventEmitter â†’ in-process

Pub-Sub (Kafka/Redis) â†’ distributed

1ï¸âƒ£4ï¸âƒ£ Common Interview Q&A
Q1. Is EventEmitter asynchronous?

âŒ No
âœ”ï¸ It executes listeners synchronously

Q2. Can EventEmitter handle async listeners?

âœ”ï¸ Yes (listeners can be async functions)

emitter.on("event", async () => {
  await task();
});

Q3. Is EventEmitter thread-safe?

âœ”ï¸ Node.js is single-threaded

Q4. Which Node.js modules use EventEmitter internally?

âœ”ï¸ http, fs, streams, net

1ï¸âƒ£5ï¸âƒ£ Best Practices

âœ”ï¸ Use meaningful event names
âœ”ï¸ Avoid business logic in listeners
âœ”ï¸ Handle "error" event
âœ”ï¸ Clean up listeners

1ï¸âƒ£6ï¸âƒ£ One-Line Interview Summary â­

EventEmitter is a core Node.js pattern that enables event-driven, decoupled communication through synchronous event emission and listener execution.